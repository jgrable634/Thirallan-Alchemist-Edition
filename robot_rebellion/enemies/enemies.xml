<?xml version="1.0" encoding="utf-8" ?>
<enemies>
	<tilesheet id="whip_bot2.png" width="40" height="32" />
	<tile id="whip_bot" sheet="whip_bot2.png" x="0" y="0" />
	<animation id="whip_bot.idle" x="0" count="6" length="2" />
	<animation id="whip_bot.walk" x="5" count="6" length="2" />
	<animation id="whip_bot.attack" x="11" count="6" length="2" />
	<enemy id="whip_bot" tile="whip_bot" health="25" defense="6" speed="1.5" damage="15" range="30" type="surface" vertical="true" passEnemies="true" friendlyFire="false">
		<loot id="titanium" p="16" />
		<loot id="robot_core" p="10" />
		<loot id="robot_leg" p="5" />
		<loot id="robot_whip" p="3" />
	</enemy>
	<tilesheet id="robot_drone.L.png" width="32" height="16" />
	<tile id="large_drone" sheet="robot_drone.L.png" x="0" y="0" />
	<animation id="large_drone.idle" x="0" count="2" length="2" />
	<animation id="large_drone.walk" equals="large_drone.idle" />
	<animation id="large_drone.attack" x="2" count="3" length="3" />
	<enemy id="large_drone" tile="large_drone" health="35" defense="4" speed="2" range="30" type="surface" flying="true" vertical="true" passEnemies="true" friendlyFire="false">
		<loot id="titanium" p="16" />
		<loot id="robot_core" p="10" />
		<loot id="robot_thruster" p="5" />
		<loot id="robot_blaster" p="3" />
		<attack type="projectile" damage="20" range="15" animation="attack">
				<projectile tile="laser_bolt" animation="laser_bolt" speed="5" range="20" delay="6" />
		</attack>
	</enemy>
	<tilesheet id="robot_normals.png" width="32" height="20" />
	<tile id="small_tank" sheet="robot_normals.png" x="0" y="0" />
	<animation id="small_tank.idle" x="0" count="4" length="3" />
	<animation id="small_tank.walk" x="4" count="3" length="2" />
	<animation id="small_tank.attack" x="6" count="4" length="3" />
	<enemy id="small_tank" tile="small_tank" health="25" defense="5" speed="2" range="30" type="surface" passEnemies="true" friendlyFire="false">
		<loot id="titanium" p="16" />
		<loot id="robot_core" p="10" />
		<loot id="robot_blaster" p="5" />
		<loot id="robot_wheel" p="5" />
		<attack type="projectile" damage="25" range="15" animation="attack">
				<projectile tile="laser_bolt" animation="laser_bolt" speed="5" range="15" delay="10" />
		</attack>
	</enemy>
	<tilesheet id="robot_ship.png" width="32" height="32" />
	<tile id="RB_enemy_ship" sheet="robot_ship.png" x="0" y="0" />
	<animation id="RB_enemy_ship.idle" x="0" count="4" />
	<animation id="RB_enemy_ship.walk" equals="RB_enemy_ship.idle" />
	<animation id="RB_enemy_ship.attack" x="0" count="4" />
	<enemy id="RB_enemy_ship" tile="RB_enemy_ship" health="50" defense="6" flying="true" range="20" speed="2" type="surface" passEnemies="true" friendlyFire="false">
		<attack type="projectile" damage="8" range="20" animation="attack">
			<projectile tile="laser_bolt" animation="laser_bolt" speed="3" range="20" />
		</attack>
	</enemy>
	<tilesheet id="RB_boss.png" width="32" height="32" />
	<tile id="RB_boss" sheet="RB_boss.png" x="0" y="0" />
	<animation id="RB_boss.idle" x="0" count="2" />
	<animation id="RB_boss.walk" equals="RB_boss.idle" />
	<animation id="RB_boss.attack" x="2" count="4" />
	<animation id="RB_boss.omni" x="6" count="3" />
	<tilesheet id="RB_orb.png" width="25" height="25" />
	<tile id="RB_orb" sheet="RB_orb.png" x="0" y="0" />
	<animation id="RB_orb.idle" equals="magic_orb.idle" />
	<animation id="RB_orb.impact" equals="magic_orb.impact" />
	<object id="RB_orb" tile="RB_orb" animation="RB_orb.idle" layer="player" save="false" width="16" height="16" overlapVehicle="true">
		<over>
			<hitEffect object="this" tile="RB_orb" animation="RB_orb.impact" /><sound id="fireball" />
			<damage object="player" attacker="this" damage="25" directional="false" /><remove object="this" />
		</over>
	</object>
	<procedure id="RB_boss_defense_matrix">
				<set id="orbs" value="[]" if="!exists('orbs')" />
				<action>while(orbs.length > 0) Movement.seek(orbs.pop(), player, 4);</action>
				<action>
			function addOrb(dx, dy){
				var o = getObject("RB_orb").create(this.xPos+dx, this.yTile+dy);
				area.addObject(o); Movement.circle(o, this, 1.25, 4); orbs.push(o);
			}
			addOrb(100, 100);
			addOrb(100, -100);
			addOrb(-100, 100);
			addOrb(-100, -100);
			Movement.seek(orbs.pop(), player, 4);
			Movement.seek(orbs.pop(), player, 4);
			Movement.seek(orbs.pop(), player, 4);
			Movement.seek(orbs.pop(), player, 4);
		</action>
		<stop/>
	</procedure>
	<procedure id="RB_boss_start">
		<pan toObject="area.getObject('RB_boss')" seconds="1" />
		<dialogue section="robots" id="boss1" />
		<dialogue section="robots" id="boss2" />
	</procedure>
	<enemy id="RB_boss" tile="RB_boss" health="30" defense="12" range="20" speed="1.5" type="surface" vertical="true" passEnemies="true" friendlyFire="false">
		<attack type="projectile" damage="10" range="20" animation="attack">
			<projectile tile="laser_bolt" animation="laser_bolt" speed="3" range="20" />
		</attack>
		<onHit><attack type="omni" damage="5" range="2" hits="3" animation="omni" /><run procedure="RB_boss_defense_matrix" /></onHit>
		<onDeath><dialogue section="robots" id="boss3" /></onDeath>
	</enemy>
</enemies>
